using System;
using System.IO;
using System.Text;
using Cabinink.FileSystem;
using lihejushi.arabChange;
namespace ciw_cnancvt
{
   class Program
   {
      static void Main(string[] args)
      {
         arabChange cvt = new arabChange();
         Console.WriteLine("1.Chinese number convert to arab number.");
         Console.WriteLine("2.Arab number convert to Chinese number.");
         Console.WriteLine("3.To specify a range of numbers for Chinese number and saved.\n");
         Console.Write("Select a function: ");
         switch (Console.ReadLine())
         {
            case "1":
               Console.WriteLine("Sorry,current function is developing!");
               break;
            case "2":
               Console.Write("\nEnter a arab number[type:integer]: ");
               string arab = Console.ReadLine();
               Console.WriteLine("Chinese number: " + cvt.ChangeOver(arab, 1));
               break;
            case "3":
               Uri saveto = new Uri(Environment.CurrentDirectory + @"\cnno.txt");
               string lban = string.Empty, uban = string.Empty, saved = string.Empty;
               Console.Write("Please enter a arab number of lower bound: ");
               lban = Console.ReadLine();
               Console.Write("Please enter a arab number of upper bound: ");
               uban = Console.ReadLine();
               Console.WriteLine("\nConverting...");
               for (int i = Convert.ToInt32(lban, 10); i <= Convert.ToInt32(uban, 10); i++)
               {
                  saved = saved + cvt.ChangeOver(Convert.ToString(i, 10), 1) + ",";
               }
               Console.WriteLine("\n(1)Convertion completed!");
               if (FileOperation.FileExists(saveto) == false)
               {
                  FileStream fs = new FileStream(saveto.LocalPath, FileMode.CreateNew);
                  fs.Close();
               }
               File.WriteAllText(saveto.LocalPath, saved, Encoding.GetEncoding("GB2312"));
               Console.WriteLine("(2)Result is saved!");
               Console.WriteLine("\nWork completed,Saved path:\n" + saveto.LocalPath);
               break;
            default:
               Console.WriteLine("Error function,this program will be exiting!");
               break;
         }
         Console.Write("\nPress any key to exit...");
         Console.ReadKey(true);
      }
   }
}
